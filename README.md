# Документация FileBackupApp

FileBackupApp - это консольное приложение на C#, предназначенное для копирования файлов из указанных исходных каталогов в целевой каталог, создания резервных копий и ведения журнала процесса копирования. В данном документе предоставлен обзор структуры проекта, классов, методов и способа использования.

## Содержание

- [Обзор](#обзор)
- [Классы](#классы)
  - [Перечисление LogLevel](#перечисление-loglevel)
  - [Класс FileCopySettings](#класс-filecopysettings)
  - [Класс Program](#класс-program)
- [Методы](#методы)
  - [Метод Main](#метод-main)
  - [Метод ReadSettings](#метод-readsettings)
  - [Метод CopyFiles](#метод-copyfiles)
  - [Метод LogMessage](#метод-logmessage)
  - [Метод ZipDirectory](#метод-zipdirectory)

## Обзор

Проект FileBackupApp - это консольное приложение, которое выполняет следующие задачи:

1. Считывает настройки из JSON-файла (`settings.json`).
2. Копирует файлы из исходных каталогов в целевой каталог, создавая резервные копии.
3. Ведет запись процесса копирования с разными уровнями журналирования (Ошибка, Информация, Отладка).
4. Архивирует целевой каталог после копирования файлов.

## Классы

### Перечисление LogLevel

```
public enum LogLevel
{
    Error,
    Info,
    Debug
}
```

Перечисление `LogLevel` представляет разные уровни журналирования, используемые для категоризации сообщений журнала.

### Класс FileCopySettings
```
public class FileCopySettings
{
  public List<string> SourceDirectories { get; set; }
  public string TargetDirectory { get; set; }
  public LogLevel LogLevel { get; set; }
}
```
Класс `FileCopySettings` определяет структуру настроек, используемых в приложении. Он включает исходные каталоги, целевой каталог и желаемый уровень журналирования.

### Класс Program
```
public class Program
{
  // Поля
  private static string settingsPath = "settings.json";
  private static string logFilePath;
// Метод Main
  public static void Main()
  {
      // ...
  }

// Другие методы...

}
```

Класс `Program` содержит точку входа (`Main` метод) приложения и другие методы, используемые для копирования файлов, записи сообщений в журнал, и архивирования каталогов.

## Методы

### Метод Main

Метод `Main` - это точка входа в приложение. Он выполняет следующие шаги:

1. Считывает настройки из JSON-файла.
2. Создает файл журнала с отметкой времени.
3. Копирует файлы из исходных каталогов в целевой каталог.
4. Отображает сообщение об окончании и ожидает ввода пользователя.

### Метод ReadSettings

Метод `ReadSettings` считывает настройки из JSON-файла (`settings.json`) и десериализует их в объект `FileCopySettings`.

### Метод CopyFiles

Метод `CopyFiles` копирует файлы из исходного каталога в целевой каталог, создавая резервную копию файлов. Он выполняет следующие действия:

1. Проверяет существование исходного каталога.
2. Создает целевой каталог, если он не существует.
3. Копирует файлы из исходного каталога в целевой каталог.
4. Архивирует целевой каталог.
5. Записывает сообщения в журнал о процессе копирования.

### Метод LogMessage

Метод `LogMessage` записывает сообщения с указанным уровнем журналирования. Он изменяет цвет текста консоли в зависимости от уровня журнала и добавляет сообщения в файл журнала.

### Метод ZipDirectory

Метод `ZipDirectory` сжимает каталог в zip-файл, используя метод `System.IO.Compression.ZipFile.CreateFromDirectory`. После архивации, исходный каталог удаляется.





